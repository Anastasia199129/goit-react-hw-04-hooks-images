{"version":3,"sources":["components/imageGalleryItem/imageGalleryItem.module.css","components/modal/modal.module.css","components/loader/loader.module.css","components/button/button.module.css","components/imageGallery/imageGallery.module.css","components/searchbar/searchbar.module.css","components/loader/Loader.jsx","components/button/Button.jsx","components/imageGallery/ImageGallery.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/modal/Modal.jsx","components/searchbar/Searchbar.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","LoaderHearts","className","s","loader","type","color","height","width","Button","onClick","text","button","ImageGallery","children","ImageGalleryItem","imagesAray","largeImgesModal","largeImageURL","map","id","webformatURL","tags","src","alt","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","onClose","modalImg","useEffect","window","addEventListener","closeModalOnEscape","removeEventListener","e","code","createPortal","overlay","currentTarget","target","modal","Searchbar","onSubmit","useState","value","setValue","images","setImages","page","setPage","searchValue","setSearchValue","loading","setLoading","showModal","setShowModal","largeImeges","setLargeImeges","error","setError","axios","get","then","response","status","data","hits","resp","prevState","length","toast","scrollTo","top","documentElement","scrollHeight","behavior","catch","togleModal","pevShowModal","SearchForm","preventDefault","trim","warn","SearchFormButton","SearchFormButtonLabel","onChange","toLowerCase","SearchFormInput","autoComplete","autoFocus","placeholder","Loader","arrayImages","App","imageName","setImageName","autoClose","position","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c2a0db1e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__3nARt\",\"ImageGalleryItemImage\":\"imageGalleryItem_ImageGalleryItemImage__1LMa_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__3UXrd\",\"modal\":\"modal_modal__1E3ua\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"loader_loader__zn2FF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__3xZtQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__3YHcx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__3ABbw\",\"SearchForm\":\"searchbar_SearchForm__yjuGG\",\"SearchFormButton\":\"searchbar_SearchFormButton__3XBqS\",\"SearchForm-button\":\"searchbar_SearchForm-button__2P-rk\",\"SearchFormButtonLabel\":\"searchbar_SearchFormButtonLabel__2s4qi\",\"SearchFormInput\":\"searchbar_SearchFormInput__2OU82\"};","import React from 'react';\r\nimport s from './loader.module.css';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst LoaderHearts = () => {\r\n  return (\r\n    <div className={s.loader}>\r\n      <Loader type=\"Hearts\" color=\"#00BFFF\" height={200} width={200} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoaderHearts;\r\n","import React from 'react';\r\nimport s from './button.module.css';\r\n\r\nconst Button =({onClick, text})=> {\r\n    return (\r\n      <button className={s.button} type=\"button\" onClick={onClick}>\r\n        {text}\r\n      </button>\r\n    );\r\n  }\r\n\r\nexport default Button;\r\n","import s from './imageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return (\r\n    <section>\r\n      <ul className={s.ImageGallery}> {children}</ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.any,\r\n};\r\n","import React from 'react';\r\nimport s from './imageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ onClick, imagesAray }) => {\r\n  const largeImgesModal = largeImageURL => {\r\n    onClick(largeImageURL);\r\n  };\r\n\r\n  return imagesAray.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n    <li key={id} className={s.ImageGalleryItem} onClick={() => largeImgesModal(largeImageURL)}>\r\n      <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n    </li>\r\n  ));\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import s from './modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\nimport { useEffect } from 'react';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nconst Modal = ({ onClose, modalImg }) => {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', closeModalOnEscape);\r\n    return () => window.removeEventListener('keydown', closeModalOnEscape);\r\n  });\r\n\r\n  const closeModalOnEscape = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const omBackdropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={omBackdropClick}>\r\n      <div className={s.modal}>\r\n        <img src={modalImg} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport LoaderHearts from '../loader/Loader';\r\nimport s from './searchbar.module.css';\r\nimport axios from 'axios';\r\nimport Button from '../button/Button';\r\nimport ImageGallery from '../imageGallery/ImageGallery';\r\nimport ImageGalleryItem from '../imageGalleryItem/ImageGalleryItem';\r\nimport Modal from '../modal/Modal';\r\n\r\nconst API_KEY = '22334770-5fe06baa3562bf01c1a6f3fbc';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [value, setValue] = useState('');\r\n  const [images, setImages] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [largeImeges, setLargeImeges] = useState('');\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!searchValue) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const fetch = () => {\r\n      return axios\r\n        .get(\r\n          `https://pixabay.com/api/?q=${searchValue}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n        )\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            setLoading(false);\r\n            return response.data.hits;\r\n          }\r\n        });\r\n    };\r\n    fetch()\r\n      .then(resp => {\r\n        setImages(prevState => [...prevState, ...resp]);\r\n        if (resp.length === 0) {\r\n          toast.error('По такому запросу картинки не найденны!');\r\n        }\r\n        if (images.length > 11) {\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n          });\r\n        }\r\n        if (resp.status === 400) {\r\n          setError('картинки по вашему зыпросу не найдены');\r\n        }\r\n      })\r\n      .catch(error => setError(error));\r\n  }, [searchValue, page]);\r\n\r\n  const onButtonClick = e => {\r\n    setPage(page + 1);\r\n  };\r\n\r\n  const onChangeHandler = e => {\r\n    setValue(e.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const reset = () => {\r\n    setValue('');\r\n  };\r\n\r\n  const togleModal = () => {\r\n    setShowModal(pevShowModal => !pevShowModal);\r\n  };\r\n\r\n  const onItemClick = e => {\r\n    setLargeImeges(e);\r\n    togleModal();\r\n  };\r\n\r\n  const onSubmitForm = e => {\r\n    e.preventDefault();\r\n    if (value.trim() === '') {\r\n      toast.warn('Заполните поле поиска!');\r\n      return;\r\n    }\r\n\r\n    setSearchValue(value);\r\n    onSubmit(value);\r\n    reset();\r\n    setPage(1);\r\n    setImages([]);\r\n    setError(null);\r\n  };\r\n\r\n  return (\r\n    <section>\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={onSubmitForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={onChangeHandler}\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            value={value}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n      {error && <h1>An error has occurred!</h1>}\r\n      {loading && <LoaderHearts />}\r\n      {images.length !== 0 && (\r\n        <ImageGallery arrayImages={images}>\r\n          <ImageGalleryItem imagesAray={images} onClick={onItemClick} />\r\n        </ImageGallery>\r\n      )}\r\n\r\n      {images.length !== 0 && <Button text=\"Load more\" onClick={onButtonClick} />}\r\n      {showModal && <Modal onClose={togleModal} modalImg={largeImeges} />}\r\n    </section>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  value: PropTypes.string,\r\n  images: PropTypes.array,\r\n  page: PropTypes.number,\r\n  searchValue: PropTypes.string,\r\n  loading: PropTypes.bool,\r\n  showModal: PropTypes.bool,\r\n  largeImeges: PropTypes.string,\r\n};\r\n\r\nexport default Searchbar;\r\n","import './App.css';\nimport PropTypes from 'prop-types';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useState } from 'react';\nimport Searchbar from './components/searchbar/Searchbar';\nimport ImageGallery from './components/imageGallery/ImageGallery';\n\nconst App = () => {\n  const [imageName, setImageName] = useState('');\n\n  const onSubmithandler = data => {\n    setImageName(data.value);\n  };\n\n  return (\n    <div>\n      <Searchbar onSubmit={onSubmithandler} />\n      <ImageGallery imageName={imageName} />\n      <ToastContainer autoClose={3000} position=\"top-center\" />\n    </div>\n  );\n};\n\nApp.propTypes = {\n  imageName: PropTypes.string,\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}